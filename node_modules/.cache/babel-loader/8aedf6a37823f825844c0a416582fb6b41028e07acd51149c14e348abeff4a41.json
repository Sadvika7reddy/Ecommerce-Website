{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Unitech\\\\Downloads\\\\01-starting-setup (1)\\\\01-starting-setup\\\\src\\\\components\\\\store\\\\CreateProvider.js\",\n  _s = $RefreshSig$();\nimport CartContext from './CartContext';\nimport { useState, useReducer } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\nconst cartreducer = (state, action) => {\n  if (action.type === 'ADD') {\n    const updatedTotalAmount = state.totalAmount + action.item.amount * action.item.quantity;\n    const existingCartIndex = state.items.findIndex(item => item.id === action.item.id);\n    const existingCart = state.items[existingCartIndex];\n    let updatedItems;\n    if (existingCart) {\n      axios.put(\"https://crudcrud.com/api/06558e9fa53643aaa723725555ca0b59/mail\", {\n        quantity: existingCart.quantity + action.item.quantity\n      }).then(res => {});\n      const updatedItem = {\n        ...existingCart,\n        quantity: existingCart.quantity + action.item.quantity\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  if (action.type = 'REMOVE') {\n    const existingCartIndex = state.items.findIndex(item => item.id === action.id);\n    const existingCart = state.items[existingCartIndex];\n    let updatedItems;\n    const updatedTotalAmount = state.totalAmount - existingCart.amount;\n    if (existingCart.quantity === 1) {\n      updatedItems = state.items.filter(item => item.id != action.id);\n    } else {\n      const updatedItem = {\n        ...existingCart,\n        quantity: existingCart.quantity - 1\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartIndex] = updatedItem;\n    }\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  return defaultCartState;\n};\nconst CreateProvider = props => {\n  _s();\n  const [cartstate, cartAction] = useReducer(cartreducer, defaultCartState);\n  const addItemHandler = item => {\n    cartAction({\n      type: 'ADD',\n      item: item\n    });\n  };\n  const removeItemHandler = id => {\n    cartAction({\n      type: 'REMOVE',\n      id: id\n    });\n  };\n  const cartContext = {\n    items: cartstate.items,\n    totalAmount: cartstate.totalAmount,\n    addItem: addItemHandler,\n    removeItem: removeItemHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 15\n  }, this);\n};\n_s(CreateProvider, \"OloXPwNEydIgpa5ktc/B6Ivt/2M=\");\n_c = CreateProvider;\nexport default CreateProvider;\nvar _c;\n$RefreshReg$(_c, \"CreateProvider\");","map":{"version":3,"names":["CartContext","useState","useReducer","axios","defaultCartState","items","totalAmount","cartreducer","state","action","type","updatedTotalAmount","item","amount","quantity","existingCartIndex","findIndex","id","existingCart","updatedItems","put","then","res","updatedItem","concat","filter","CreateProvider","props","cartstate","cartAction","addItemHandler","removeItemHandler","cartContext","addItem","removeItem","children"],"sources":["C:/Users/Unitech/Downloads/01-starting-setup (1)/01-starting-setup/src/components/store/CreateProvider.js"],"sourcesContent":["import CartContext from './CartContext';\r\nimport {useState,useReducer} from 'react'\r\nimport axios from 'axios';\r\nconst defaultCartState={\r\n    items:[],\r\n    totalAmount:0,\r\n}\r\nconst cartreducer=(state,action)=>{\r\n    if(action.type==='ADD')\r\n    {\r\n        const updatedTotalAmount=state.totalAmount+action.item.amount*action.item.quantity;\r\n        const existingCartIndex=state.items.findIndex(\r\n            (item)=>item.id===action.item.id\r\n        )\r\n        const existingCart=state.items[existingCartIndex];\r\n        let updatedItems;\r\n        if(existingCart)\r\n        {\r\n            axios.put(\"https://crudcrud.com/api/06558e9fa53643aaa723725555ca0b59/mail\",{quantity:existingCart.quantity+action.item.quantity})\r\n                .then((res)=>{\r\n                   \r\n                }) \r\n         \r\n            const updatedItem={\r\n                ...existingCart,\r\n                quantity:existingCart.quantity+action.item.quantity\r\n            }\r\n            updatedItems=[...state.items];\r\n            updatedItems[existingCartIndex]=updatedItem;\r\n        }\r\n        else{ \r\n            updatedItems=state.items.concat(action.item);\r\n            \r\n            \r\n        }\r\n              return{\r\n            items:updatedItems,\r\n            totalAmount:updatedTotalAmount\r\n        };\r\n    }\r\n    if(action.type='REMOVE')\r\n    {\r\n        const existingCartIndex=state.items.findIndex(\r\n            (item)=>item.id===action.id\r\n        )\r\n        const existingCart=state.items[existingCartIndex];\r\n        let updatedItems; \r\n        const updatedTotalAmount=state.totalAmount-existingCart.amount;\r\n        if(existingCart.quantity===1)\r\n        {\r\n            updatedItems=state.items.filter(item=>item.id!=action.id);\r\n        }\r\n        else{\r\n            const updatedItem={\r\n                ...existingCart,\r\n                quantity:existingCart.quantity-1\r\n            }\r\n            updatedItems=[...state.items];\r\n            updatedItems[existingCartIndex]=updatedItem;\r\n\r\n        }\r\n        return{\r\n            items:updatedItems,\r\n            totalAmount:updatedTotalAmount\r\n        }\r\n\r\n\r\n    }\r\n    \r\n        return defaultCartState\r\n\r\n\r\n\r\n}\r\nconst CreateProvider=(props)=>{\r\n    const [cartstate,cartAction]=useReducer(cartreducer,defaultCartState)\r\n    const addItemHandler=item=>{\r\n       cartAction({type:'ADD',item:item}) \r\n    };\r\n    const removeItemHandler=id=>{\r\n       cartAction({type:'REMOVE',id:id}) \r\n    };\r\n\r\n    const cartContext={\r\n        items:cartstate.items,\r\n        totalAmount:cartstate.totalAmount,\r\n        addItem:addItemHandler,\r\n        removeItem:removeItemHandler\r\n    };\r\n        return<CartContext.Provider value={cartContext}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n};\r\nexport default CreateProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}